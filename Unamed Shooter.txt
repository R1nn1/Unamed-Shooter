local DrRayLibrary = loadstring(game:HttpGet("https://raw.githubusercontent.com/AZYsGithub/DrRay-UI-Library/main/DrRay.lua"))()

local window = DrRayLibrary:Load("Rinns Hub", "Default")

local mainTab = DrRayLibrary.newTab("Main Tab", "ImageIdHere")
local espTab = DrRayLibrary.newTab("ESP Tab", "ImageIdHere")
local playerTab = DrRayLibrary.newTab("Player Tab", "ImageIdHere")

local hitboxEnabled = false
local espEnabled = false
local aimbotEnabled = false
local wallCheckEnabled = false
local lowGravityEnabled = false
local tracerEnabled = false

getgenv().HitboxSize = 15
getgenv().HitboxTransparency = 0.5

-- Hitbox function
local function updateHitbox()
    game:GetService('RunService').RenderStepped:Connect(function()
        if hitboxEnabled then
            for _, v in next, game:GetService('Players'):GetPlayers() do
                if v.Name ~= game:GetService('Players').LocalPlayer.Name and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                    pcall(function()
                        v.Character.HumanoidRootPart.Size = Vector3.new(getgenv().HitboxSize, getgenv().HitboxSize, getgenv().HitboxSize)
                        v.Character.HumanoidRootPart.Transparency = getgenv().HitboxTransparency
                        v.Character.HumanoidRootPart.BrickColor = BrickColor.new("Really black")
                        v.Character.HumanoidRootPart.Material = "Neon"
                        v.Character.HumanoidRootPart.CanCollide = false
                    end)
                end
            end
        else
            for _, v in next, game:GetService('Players'):GetPlayers() do
                if v.Name ~= game:GetService('Players').LocalPlayer.Name and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                    pcall(function()
                        v.Character.HumanoidRootPart.Size = Vector3.new(2, 2, 1)
                        v.Character.HumanoidRootPart.Transparency = 1
                        v.Character.HumanoidRootPart.BrickColor = BrickColor.new("Medium stone grey")
                        v.Character.HumanoidRootPart.Material = "Plastic"
                        v.Character.HumanoidRootPart.CanCollide = false
                    end)
                end
            end
        end
    end)
end

local function createCircle()
    local circle = Drawing.new("Circle")
    circle.Thickness = 2
    circle.NumSides = 30
    circle.Radius = 100
    circle.Color = Color3.new(1, 1, 1)
    circle.Transparency = 0.4
    circle.Filled = false

    game:GetService('RunService').RenderStepped:Connect(function()
        if aimbotEnabled then
            circle.Position = Vector2.new(game:GetService('Workspace').CurrentCamera.ViewportSize.X / 2, game:GetService('Workspace').CurrentCamera.ViewportSize.Y / 2)
            circle.Visible = true
        else
            circle.Visible = false
        end
    end)
end

createCircle()

local function getClosestPlayer()
    local closestPlayer = nil
    local shortestDistance = 100

    for _, player in ipairs(game:GetService('Players'):GetPlayers()) do
        if player ~= game:GetService('Players').LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
            if not game:GetService('Players').LocalPlayer.Team or player.Team ~= game:GetService('Players').LocalPlayer.Team then
                local pos = game:GetService('Workspace').CurrentCamera:WorldToScreenPoint(player.Character.HumanoidRootPart.Position)
                local distance = (Vector2.new(pos.X, pos.Y) - Vector2.new(game:GetService('Workspace').CurrentCamera.ViewportSize.X/2, game:GetService('Workspace').CurrentCamera.ViewportSize.Y/2)).magnitude
                
                if distance < shortestDistance then
                    if wallCheckEnabled then
                        local ray = Ray.new(game:GetService('Workspace').CurrentCamera.CFrame.Position, (player.Character.HumanoidRootPart.Position - game:GetService('Workspace').CurrentCamera.CFrame.Position).unit * 1000)
                        local hit, pos = game:GetService('Workspace'):FindPartOnRay(ray, game:GetService('Players').LocalPlayer.Character, false, true)
                        
                        if hit and hit:IsDescendantOf(player.Character) then
                            closestPlayer = player
                            shortestDistance = distance
                        end
                    else
                        closestPlayer = player
                        shortestDistance = distance
                    end
                end
            end
        end
    end
    
    return closestPlayer
end

local function aimAt(target)
    local camera = game:GetService('Workspace').CurrentCamera
    if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
        local targetPos = target.Character.HumanoidRootPart.Position
        camera.CFrame = CFrame.new(camera.CFrame.Position, targetPos)
    end
end

game:GetService('RunService').RenderStepped:Connect(function()
    if aimbotEnabled then
        local target = getClosestPlayer()
        if target then
            aimAt(target)
        end
    end
end)

mainTab.newToggle("HitBox", "Changes the hitbox of other players", true, function(toggleState)
    hitboxEnabled = toggleState
    getgenv().HitboxStatus = toggleState
    if toggleState then
        print("Hitbox On")
        updateHitbox()
    else
        print("Hitbox Off")
    end
end)

mainTab.newSlider("HitBox Slider", "Lets you change how big other players hitbox are", 20, false, function(num)
    getgenv().HitboxSize = num
    print("Hitbox size:", num)
end)

mainTab.newToggle("Aimbot", "Locks your camera on to players in the circle", true, function(toggleState)
    aimbotEnabled = toggleState
    if toggleState then
        print("Aimbot On")
    else
        print("Aimbot Off")
    end
end)

mainTab.newToggle("Wall Check", "Makes the aimbot check if players are behind a wall", true, function(toggleState)
    wallCheckEnabled = toggleState
    if toggleState then
        print("Wall Check On")
    else
        print("Wall Check Off")
    end
end)

-- ESP function
local function addHighlight(player)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local highlight = Instance.new("Highlight")
        highlight.Name = "HighlightESP"
        highlight.FillColor = Color3.new(1, 0, 0)
        highlight.OutlineColor = Color3.new(1, 1, 1)
        highlight.FillTransparency = 0.5
        highlight.OutlineTransparency = 0
        highlight.Parent = player.Character.HumanoidRootPart
    end
end

local function removeHighlight(player)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character.HumanoidRootPart:FindFirstChild("HighlightESP") then
        player.Character.HumanoidRootPart.HighlightESP:Destroy()
    end
end

local function updateESP()
    for _, player in ipairs(game:GetService('Players'):GetPlayers()) do
        if player ~= game:GetService('Players').LocalPlayer then
            if espEnabled then
                addHighlight(player)
            else
                removeHighlight(player)
            end
        end
    end
end

game:GetService('Players').PlayerAdded:Connect(function(player)
    if espEnabled then
        player.CharacterAdded:Connect(function()
            wait(1)
            addHighlight(player)
        end)
    end
end)

game:GetService('Players').PlayerRemoving:Connect(function(player)
    removeHighlight(player)
end)

espTab.newToggle("Highlight ESP", "Highlights all players", true, function(toggleState)
    espEnabled = toggleState
    getgenv().ESPStatus = toggleState
    if toggleState then
        print("ESP On")
    else
        print("ESP Off")
    end
    updateESP()
end)

-- Tracers function
local tracers = {}

local function createTracer(player)
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
    
    local tracer = Drawing.new("Line")
    tracer.Visible = false
    tracer.Color = Color3.new(1, 0, 0)
    tracer.Thickness = 2
    tracer.Transparency = 1
    
    tracers[player] = tracer

    local function updateTracer()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("Humanoid") then
            local camera = game:GetService("Workspace").CurrentCamera
            local screenPoint = camera:WorldToViewportPoint(player.Character.HumanoidRootPart.Position)
            tracer.From = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y)
            tracer.To = Vector2.new(screenPoint.X, screenPoint.Y)
            tracer.Visible = tracerEnabled and player.Character.Humanoid.Health > 0
        else
            tracer.Visible = false
        end
    end

    game:GetService("RunService").RenderStepped:Connect(updateTracer)

    player.CharacterAdded:Connect(function()
        wait(1)
        updateTracer()
        player.Character:WaitForChild("Humanoid").Died:Connect(function()
            tracer.Visible = false
        end)
    end)
end

local function removeTracer(player)
    if tracers[player] then
        tracers[player].Visible = false
        tracers[player] = nil
    end
end

local function updateTracers()
    for _, player in ipairs(game:GetService('Players'):GetPlayers()) do
        if player ~= game:GetService('Players').LocalPlayer then
            createTracer(player)
        end
    end
end

game:GetService('Players').PlayerAdded:Connect(function(player)
    if tracerEnabled then
        player.CharacterAdded:Connect(function()
            wait(1)
            createTracer(player)
        end)
    end
end)

game:GetService('Players').PlayerRemoving:Connect(function(player)
    removeTracer(player)
end)

espTab.newToggle("Tracers ESP", "Draws a line to every player", true, function(toggleState)
    tracerEnabled = toggleState
    if toggleState then
        print("Tracers On")
        updateTracers()
    else
        print("Tracers Off")
        for _, tracer in pairs(tracers) do
            tracer.Visible = false
        end
    end
end)

-- Walkspeed function
playerTab.newSlider("WalkSpeed Slider", "Change your walk speed", 500, false, function(speed)
    game:GetService('Players').LocalPlayer.Character.Humanoid.WalkSpeed = speed
    print("Walk speed:", speed)
end)

-- Low gravity function
local function setLowGravity(enabled)
    if enabled then
        game:GetService('Workspace').Gravity = 50
        print("Low gravity enabled")
    else
        game:GetService('Workspace').Gravity = 196.2
        print("Low gravity disabled")
    end
end

playerTab.newToggle("Low Gravity", "Enable/Disable low gravity", false, function(toggleState)
    lowGravityEnabled = toggleState
    getgenv().LowGravityStatus = toggleState
    setLowGravity(toggleState)
end)

local NotificationHolder = loadstring(game:HttpGet("https://raw.githubusercontent.com/BocusLuke/UI/main/STX/Module.Lua"))()
local Notification = loadstring(game:HttpGet("https://raw.githubusercontent.com/BocusLuke/UI/main/STX/Client.Lua"))()

Notification:Notify(
    {Title = "IMPORTANT", Description = "If any of the toggles are already green turn it off then turn it on for the feature to work black = off green = on"},
    {OutlineColor = Color3.fromRGB(80, 80, 80),Time = 8, Type = "option"},
    {Image = "http://www.roblox.com/asset/?id=6023426923", ImageColor = Color3.fromRGB(255, 84, 84), Callback = function(State) print(tostring(State)) end}
)

print("Script loaded successfully")
